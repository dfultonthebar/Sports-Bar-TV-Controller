
// Add these models to the existing schema.prisma file

model QAEntry {
  id           String    @id @default(cuid())
  question     String
  answer       String
  category     String    @default("general") // system, api, features, configuration, troubleshooting, general
  tags         String?   // JSON array of tags
  sourceType   String    @default("manual") // manual, auto-generated, uploaded
  sourceFile   String?   // Original file path if auto-generated or uploaded
  confidence   Float     @default(1.0) // Confidence score for auto-generated Q&As (0.0-1.0)
  isActive     Boolean   @default(true)
  usageCount   Int       @default(0) // Track how many times this Q&A has been used
  lastUsed     DateTime? // Track when this Q&A was last used
  createdAt    DateTime  @default(now())
  updatedAt    DateTime  @updatedAt
  
  @@index([category])
  @@index([sourceType])
  @@index([isActive])
  @@index([usageCount])
}

model QAGenerationJob {
  id              String    @id @default(cuid())
  status          String    @default("pending") // pending, running, completed, failed
  sourceType      String    // repository, documentation, codebase
  sourcePath      String?   // Path to source files
  totalFiles      Int       @default(0)
  processedFiles  Int       @default(0)
  generatedQAs    Int       @default(0)
  errorMessage    String?
  startedAt       DateTime?
  completedAt     DateTime?
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt
  
  @@index([status])
}
